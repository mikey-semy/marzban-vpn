# ===========================================
# АДМИН ПАНЕЛЬ
# ===========================================
SUDO_USERNAME=admin
SUDO_PASSWORD=change_me_strong_password

# ===========================================
# БАЗА ДАННЫХ MYSQL
# ===========================================
SQLALCHEMY_DATABASE_URL=mysql+pymysql://marzban:your_db_password@mysql:3306/marzban
MYSQL_PASSWORD=change_me_db_password
MYSQL_ROOT_PASSWORD=change_me_root_password

# ===========================================
# СЕТЕВЫЕ НАСТРОЙКИ (для Dokploy/Traefik)
# ===========================================
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8003
DOMAIN=vpn.yourdomain.com

# ===========================================
# БЕЗОПАСНОСТЬ
# ===========================================
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
DOCS=false
DEBUG=false

# ===========================================
# SSL СЕРТИФИКАТЫ (автоматически в Dokploy)
# ===========================================
UVICORN_SSL_CERTFILE=/tmp/cert.crt
UVICORN_SSL_KEYFILE=/tmp/cert.key
UVICORN_SSL_CA_TYPE=private

# ===========================================
# XRAY КОНФИГУРАЦИЯ
# ===========================================
XRAY_JSON=/var/lib/marzban/xray_config.json
XRAY_EXECUTABLE_PATH=/usr/local/bin/xray
XRAY_ASSETS_PATH=/usr/local/share/xray

# ===========================================
# WARP ИНТЕГРАЦИЯ
# ===========================================
WARP_ENABLED=true
WARP_HOST=warp-proxy
WARP_PORT=1080

# ===========================================
# TELEGRAM УВЕДОМЛЕНИЯ
# ===========================================
# Получи токен у @BotFather
TELEGRAM_API_TOKEN=your_bot_token_here
# Получи ID у @userinfobot
TELEGRAM_ADMIN_ID=your_telegram_id_here

# ===========================================
# УВЕДОМЛЕНИЯ О ЛИМИТАХ
# ===========================================
NOTIFY_REACHED_USAGE_PERCENT=80
NOTIFY_DAYS_LEFT=3

# ===========================================
# АВТОУДАЛЕНИЕ ПОЛЬЗОВАТЕЛЕЙ
# ===========================================
USERS_AUTODELETE_DAYS=-1
USER_AUTODELETE_INCLUDE_LIMITED_ACCOUNTS=false

# ===========================================
# URL ДЛЯ ПОДПИСОК (Dokploy автоматически настроит домен)
# ===========================================
XRAY_SUBSCRIPTION_URL_PREFIX=https://vpn.yourdomain.com

# ===========================================
# WEBHOOK УВЕДОМЛЕНИЯ (опционально)
# ===========================================
# WEBHOOK_ADDRESS=https://your-webhook-url.com/webhook
# WEBHOOK_SECRET=your_webhook_secret

# ===========================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# ===========================================
# Количество попыток отправки уведомлений
NUMBER_OF_RECURRENT_NOTIFICATIONS=3
RECURRENT_NOTIFICATIONS_TIMEOUT=180

# Кастомные JSON конфигурации для клиентов
USE_CUSTOM_JSON_DEFAULT=false
USE_CUSTOM_JSON_FOR_V2RAYNG=false
USE_CUSTOM_JSON_FOR_STREISAND=false
USE_CUSTOM_JSON_FOR_V2RAYN=false

# ===========================================
# DOKPLOY СПЕЦИФИЧНЫЕ НАСТРОЙКИ
# ===========================================
# Эти переменные автоматически добавляются Dokploy через labels
# Не изменяйте их вручную

# ===========================================
# ИНСТРУКЦИИ ПО НАСТРОЙКЕ
# ===========================================
# 1. Смените все пароли на надежные
# 2. Укажите ваш реальный домен вместо vpn.yourdomain.com
# 3. Настройте Telegram бота (получите токены)
# 4. В Dokploy добавьте домен и включите SSL
# 5. Запустите WARP прокси отдельно: docker-compose -f docker-compose.warp.yml up -d

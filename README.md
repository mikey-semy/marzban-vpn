# Marzban VPN Panel —Å WARP

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è VPN –ø–∞–Ω–µ–ª—å –Ω–∞ –±–∞–∑–µ Marzban —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WARP –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Marzban Panel** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **WARP Integration** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ Cloudflare WARP –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã**: VMess, VLESS, Trojan, Shadowsocks
- **Reality Protocol** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç DPI
- **MySQL Database** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Telegram Bot** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **SSL/TLS** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

| –ü—Ä–æ—Ç–æ–∫–æ–ª | TCP –ø–æ—Ä—Ç | WS –ø–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|---------|----------|
| VMess | 2053 | 2083 | –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª V2Ray |
| VLESS | 2054 | 2084 | –õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è VMess |
| VLESS Reality | 2443 | - | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç DPI |
| Trojan | 2055 | 2085 | –ò–º–∏—Ç–∞—Ü–∏—è HTTPS —Ç—Ä–∞—Ñ–∏–∫–∞ |
| Shadowsocks | 1080 | - | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π SOCKS5 –ø—Ä–æ–∫—Å–∏ |

## üåê WARP —Ä–æ—É—Ç–∏–Ω–≥

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ WARP –¥–ª—è:
- OpenAI (ChatGPT)
- Google —Å–µ—Ä–≤–∏—Å—ã
- YouTube
- Netflix
- Instagram
- Facebook
- Twitter/X
- Discord
- Telegram
- Spotify
- TikTok

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <your-repo-url>
cd marzban-vpn-panel
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
nano .env
```

–ò–∑–º–µ–Ω–∏ –ø–∞—Ä–æ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` —Ñ–∞–π–ª–µ.

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ WARP –ø—Ä–æ–∫—Å–∏
docker-compose -f docker-compose.warp.yml up -d

# –ó–∞–ø—É—Å–∫ Marzban –ø–∞–Ω–µ–ª–∏
docker-compose -f docker-compose.marzban.yml up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
docker ps
docker logs marzban
docker logs warp-proxy
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- `config.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- `docker-compose.marzban.yml` - Marzban + MySQL
- `docker-compose.warp.yml` - WARP –ø—Ä–æ–∫—Å–∏
- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤

–í `.env` –∏–∑–º–µ–Ω–∏:
```env
XRAY_SUBSCRIPTION_URL_PREFIX=https://your-domain.com
```

### Telegram –±–æ—Ç

1. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å –≤ `.env`:
```env
TELEGRAM_API_TOKEN=your_bot_token
TELEGRAM_ADMIN_ID=your_telegram_id
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –í–µ–±-–ø–∞–Ω–µ–ª—å
- URL: `https://your-domain.com/dashboard/`
- –õ–æ–≥–∏–Ω: –∏–∑ `SUDO_USERNAME`
- –ü–∞—Ä–æ–ª—å: –∏–∑ `SUDO_PASSWORD`

### –ö–æ–º–∞–Ω–¥—ã Docker

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.marzban.yml restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs marzban -f
docker logs warp-proxy -f

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
docker-compose -f docker-compose.marzban.yml pull
docker-compose -f docker-compose.marzban.yml up -d
```

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
docker exec mysql mysqldump -u root -p marzban > backup.sql
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
docker exec -i mysql mysql -u root -p marzban < backup.sql
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ `.env`
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π –æ–±—Ä–∞–∑—ã Docker
- –ù–∞—Å—Ç—Ä–æ–π —Ñ–∞–π—Ä–≤–æ–ª –¥–ª—è –ø–æ—Ä—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã
ufw allow 22/tcp    # SSH
ufw allow 80/tcp    # HTTP
ufw allow 443/tcp   # HTTPS
ufw allow 1080/tcp  # Shadowsocks
ufw allow 2053:2055/tcp  # VMess, VLESS, Trojan
ufw allow 2083:2085/tcp  # WebSocket
ufw allow 2443/tcp  # Reality
ufw enable
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
netstat -an | grep :2053
netstat -an | grep :2054

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
docker exec marzban cat /var/log/xray/access.log
```

### WARP —Å—Ç–∞—Ç—É—Å

```bash
docker exec warp-proxy curl -s https://www.cloudflare.com/cdn-cgi/trace
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Marzban –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
docker logs marzban

# –ü—Ä–æ–≤–µ—Ä—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
docker exec mysql mysql -u root -p -e "SHOW DATABASES;"
```

### WARP –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ WARP
docker restart warp-proxy

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker exec warp-proxy curl -s ipinfo.io
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSL

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
docker exec marzban ls -la /tmp/cert.*

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
docker restart marzban
```

## üìù –õ–æ–≥–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
- Marzban: `docker logs marzban`
- MySQL: `docker logs mysql`
- WARP: `docker logs warp-proxy`
- Xray: –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `/var/log/xray/`

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.marzban.yml down
docker-compose -f docker-compose.warp.yml down

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker pull gozargah/marzban:latest
docker pull mysql:8.0
docker pull caomingjun/warp

# –ó–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.warp.yml up -d
docker-compose -f docker-compose.marzban.yml up -d
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
4. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π.
